
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@layer base {
  :root {
    /* Liquid Glass Material Tokens */
    --glass-ultra-thin: rgba(255, 255, 255, 0.05);
    --glass-thin: rgba(255, 255, 255, 0.08);
    --glass-regular: rgba(255, 255, 255, 0.12);
    --glass-thick: rgba(255, 255, 255, 0.16);
    
    /* Glass Blur Tokens */
    --blur-ultra-thin: 10px;
    --blur-thin: 16px;
    --blur-regular: 25px;
    --blur-thick: 30px;
    
    /* Glass Rim Lighting */
    --rim-light: rgba(255, 255, 255, 0.25);
    --rim-light-hover: rgba(255, 255, 255, 0.35);
    
    /* Glass Shadows */
    --glass-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    --glass-shadow-elevated: 0 8px 30px rgba(0, 0, 0, 0.3);
    
    /* Dynamic Wallpaper Tints */
    --wallpaper-primary: #2A8A5F;
    --wallpaper-secondary: #1E646E;
    --wallpaper-accent: #2EE2AD;
    
    /* Existing Podia Color System */
    --surface: #0A0F19;
    --surface-raised: #131B2B;
    --surface-overlay: rgba(19, 27, 43, 0.95);
    --glow-highlight: rgba(46, 226, 173, 0.1);
    --glow-line: rgba(46, 226, 173, 0.2);
    --accent-primary: #2EE2AD;
    --accent-secondary: #3DE48D;
    --text-primary: #FFFFFF;
    --text-secondary: #B3B8C1;
    --text-muted: rgba(179, 184, 193, 0.7);
    --border-subtle: rgba(179, 184, 193, 0.2);
    
    /* Glass Text Tokens */
    --text-on-glass: rgba(255, 255, 255, 0.9);
    --text-on-glass-secondary: rgba(255, 255, 255, 0.7);
    --text-on-glass-muted: rgba(255, 255, 255, 0.5);
    
    --radius: 16px;

    /* Updated shadcn variables for liquid glass theme */
    --background: 218 42% 8%;
    --foreground: 0 0% 100%;
    --card: 218 42% 11%;
    --card-foreground: 0 0% 100%;
    --popover: 218 42% 11%;
    --popover-foreground: 0 0% 100%;
    --primary: 162 84% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 218 42% 11%;
    --secondary-foreground: 0 0% 100%;
    --muted: 218 42% 15%;
    --muted-foreground: 221 12% 73%;
    --accent: 162 84% 55%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 50%;
    --destructive-foreground: 0 0% 98%;
    --border: 221 12% 50%;
    --input: 221 12% 50%;
    --ring: 162 84% 55%;
  }

  .dark {
    /* Same tokens for dark mode consistency */
    --glass-ultra-thin: rgba(255, 255, 255, 0.03);
    --glass-thin: rgba(255, 255, 255, 0.06);
    --glass-regular: rgba(255, 255, 255, 0.10);
    --glass-thick: rgba(255, 255, 255, 0.14);
    
    --text-on-glass: rgba(255, 255, 255, 0.95);
    --text-on-glass-secondary: rgba(255, 255, 255, 0.75);
    --text-on-glass-muted: rgba(255, 255, 255, 0.55);
  }

  body {
    @apply font-inter;
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Dynamic wallpaper background with particle animation */
    background: 
      radial-gradient(circle at 20% 80%, rgba(42, 138, 95, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(30, 100, 110, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(46, 226, 173, 0.15) 0%, transparent 50%),
      linear-gradient(135deg, #2A8A5F 0%, #1E646E 30%, #000000 70%);
    background-attachment: fixed;
    background-size: 200% 200%, 150% 150%, 300% 300%, 100% 100%;
    animation: wallpaper-drift 60s ease-in-out infinite;
    color: var(--text-on-glass);
    min-height: 100vh;
    position: relative;
  }

  /* Depth fog vignette */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, transparent 40%, rgba(0, 0, 0, 0.3) 100%);
    pointer-events: none;
    z-index: -1;
  }
}

@layer utilities {
  /* Liquid Glass Material Utilities */
  .glass-ultra-thin {
    background: var(--glass-ultra-thin);
    backdrop-filter: blur(var(--blur-ultra-thin));
    border: 1px solid var(--rim-light);
    box-shadow: var(--glass-shadow);
  }
  
  .glass-thin {
    background: var(--glass-thin);
    backdrop-filter: blur(var(--blur-thin));
    border: 1px solid var(--rim-light);
    box-shadow: var(--glass-shadow);
  }
  
  .glass-regular {
    background: var(--glass-regular);
    backdrop-filter: blur(var(--blur-regular));
    border: 1px solid var(--rim-light);
    box-shadow: var(--glass-shadow);
  }
  
  .glass-thick {
    background: var(--glass-thick);
    backdrop-filter: blur(var(--blur-thick));
    border: 1px solid var(--rim-light);
    box-shadow: var(--glass-shadow-elevated);
  }
  
  /* Glass Hover Effects */
  .glass-hover:hover {
    border-color: var(--rim-light-hover);
    transform: scale(1.02);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Glass Press Animation */
  .glass-press:active {
    transform: scaleY(0.94);
    backdrop-filter: blur(calc(var(--blur-thin) + 4px));
    transition: all 0.15s cubic-bezier(0.5, 0, 0.75, 0);
  }
  
  /* Caustic Highlight Animation */
  .glass-caustic {
    position: relative;
    overflow: hidden;
  }
  
  .glass-caustic::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--rim-light-hover), transparent);
    animation: caustic-sweep 2s linear infinite;
    opacity: 0;
  }
  
  .glass-caustic:hover::before {
    opacity: 1;
  }
  
  /* Status Glow Effects */
  .status-glow-green {
    box-shadow: 0 0 12px rgba(61, 228, 141, 0.4), var(--glass-shadow);
  }
  
  .status-glow-amber {
    box-shadow: 0 0 12px rgba(251, 191, 36, 0.4), var(--glass-shadow);
  }
  
  /* Parallax Motion */
  .parallax-hover {
    transition: transform 0.1s ease-out;
  }
  
  .parallax-hover:hover {
    transform: translate3d(var(--parallax-x, 0), var(--parallax-y, 0), 0);
  }
  
  /* Typography on Glass */
  .text-glass-primary {
    color: var(--text-on-glass);
    letter-spacing: 0.01em;
  }
  
  .text-glass-secondary {
    color: var(--text-on-glass-secondary);
    letter-spacing: 0.01em;
  }
  
  .text-glass-muted {
    color: var(--text-on-glass-muted);
    letter-spacing: 0.01em;
  }
  
  /* Glass Icons */
  .glass-icon {
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
    opacity: 0.85;
  }
  
  /* Vibrant Dividers */
  .glass-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--rim-light), transparent);
  }
}

@layer components {
  /* Liquid Glass Button Components */
  .glass-button-primary {
    @apply glass-thin glass-press rounded-full px-6 py-3 text-glass-primary font-medium
           transition-all duration-300 hover:shadow-lg;
  }
  
  .glass-chip {
    @apply glass-ultra-thin parallax-hover rounded-full px-4 py-2 text-xs
           text-glass-secondary font-medium transition-all duration-200;
    height: 12pt;
    border-radius: 24pt;
  }
  
  .glass-chip.active {
    @apply status-glow-green;
  }
  
  .glass-chip.degraded {
    @apply status-glow-amber;
  }
  
  /* Glass Card Component */
  .glass-card {
    @apply glass-regular glass-caustic glass-hover rounded-2xl p-6
           transition-all duration-300 ease-out overflow-hidden;
  }
  
  .glass-card-elevated {
    @apply glass-thick rounded-2xl p-6 shadow-2xl
           transition-all duration-300 ease-out overflow-hidden;
    z-index: 10;
  }
  
  /* Glass Badge */
  .glass-badge {
    @apply glass-ultra-thin rounded-full px-3 py-1 text-xs text-glass-secondary
           border border-primary-teal/30;
    box-shadow: inset 0 0 8px var(--accent-primary);
  }
  
  /* Glass Input */
  .glass-input {
    @apply glass-thin rounded-xl px-4 py-3 text-glass-primary
           placeholder:text-glass-muted border-rim-light
           focus:border-rim-light-hover focus:outline-none
           transition-all duration-200;
  }
}

/* Animations */
@keyframes wallpaper-drift {
  0%, 100% {
    background-position: 0% 50%, 0% 50%, 0% 50%, 0% 50%;
  }
  25% {
    background-position: 25% 25%, 50% 75%, 75% 25%, 0% 50%;
  }
  50% {
    background-position: 50% 0%, 100% 50%, 50% 50%, 0% 50%;
  }
  75% {
    background-position: 75% 75%, 50% 25%, 25% 75%, 0% 50%;
  }
}

@keyframes caustic-sweep {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

@keyframes glass-float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  25% {
    transform: translateY(-2px) translateX(1px);
  }
  50% {
    transform: translateY(0px) translateX(2px);
  }
  75% {
    transform: translateY(2px) translateX(1px);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  body {
    animation: none;
    background: linear-gradient(135deg, #2A8A5F 0%, #1E646E 30%, #000000 70%);
  }
  
  .glass-caustic::before,
  .parallax-hover {
    animation: none;
    transform: none;
  }
}
